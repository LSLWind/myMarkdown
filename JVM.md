### JAVA内存管理

#### JAVA运行时内存区域

* 程序计数器：线程私有，记录字节码指令地址
* 栈：线程私有，描述方法执行的内存模型，存放栈帧，包括局部变量表，方法出口等信息
* 堆：线程共享，存放对象实例与数组
* 方法区：线程共享，存放类信息，静态变量，常量池等
* 运行时常量池：方法区的一部分，存储编译器生成的class符号引用等

#### 对象创建过程

遇到new 时先去常量池查找类符号引用，判断类是否被加载，未被加载则先执行类加载过程，之后为对象分配空间，将内存空间初始化为0，对对象头设置必要的信息数据。

#### 对象数据

* 对象头：包括运行时数据(Mark World)，哈希码，偏向线程id等。类型指针（指向.class的指针）
* 实例数据：代码中定义的字段内容
* 对齐填充：占位符，保证对象内存大小为8的整数倍

#### 对象访问

对象是引用refernce类型