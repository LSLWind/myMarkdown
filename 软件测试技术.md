#### 基础概念

##### 产品说明书

软件开发小组的一个协定，它对开发的产品进行定义，给出产品的细节，如何做、做什么、不能做什么。

##### 软件缺陷

出现了下述五个规则之一的情况才叫做发生了一个软件缺陷：

1）软件未实现产品说明书要求的功能；

2）软件出现了产品说明指明不应该出现的错误；

3）软件实现了说明书未提到的功能；

4）软件未实现说明书虽未明确提及但是应该实现的功能；

5）软件难以理解、不易使用、运行缓慢或者—从测试员的角度看—最终用户会认为不好

即软件不符合产品说明书要求/测试人员认为产品不好用

软件缺陷来源：说明书有缺陷（不全面等）/ 设计不好

##### 软件测试员的目标

尽可能早地找出软件缺陷，并确保其得到修复

##### 软件测试原则
1）完全测试程序是不可能的
2）软件测试是有风险的行为（测试停止得越早，没有测试的部分就越多，而含有缺陷的可能性就越大。反之，测试做得越多，成本就越高。）
3）测试无法显示潜伏的软件缺陷（软件测试工作只能报告软件缺陷的存在，不能报告软件缺陷不存在）
4）找到的软件缺陷越多，就说明缺陷越多（软件缺陷往往可能会成群出现。）
5）软件测试越多，软件缺陷对于测试的免疫能力也越强。（软件测试员必须不断编写不同的、新的测试程序、对软件的不同部分进行测试，才能找出更多的软件缺陷。）
6）并非所有的软件缺陷都需要修复（没有足够的时间；修复的风险太大；不值得修复）
7）产品说明书从来没有最终版本

##### 软件测试术语
1）确认是保证软件符合产品说明书的过程；验证是保证软件满足用户的需要的过程。（符合产品说明书的软件未必在实际中满足用户的需要，因为产品说明书可能有错误或者不完善。）
2）质量高：能够满足客户要求，客户会感到产品性能卓越，优于其它产品。可靠性仅仅是质量的一个方面
3）软件测试员的目标是尽可能找出软件缺陷，并确保缺陷得以修复；

质量保证人员的主要职责是创建和执行改进软件开发过程并防止软件缺陷发生的标准和方法。

**测试桩:**某个模块，某组件调用或依赖这个模块

**桩模块:**集成测试时代替下级模块的“替身”模块

**驱动测试:**自底向上集成时使用额外的main()方法调用测试模块/方法以测试模块/方法(单元测试)

#### 测试基础

##### 1.黑盒测试和白盒测试

**黑盒测试:**

​		软件测试员只需要知道软件要做什么——而无法看到盒子里的软件是如何运行的。测试员只需要进行一些输入，就能得到某种输出结果，他不知道软件如何运行，为什么要这样，只知道程序做了什么。

**白盒测试:**

​		软件测试员可以访问程序员的代码，并通过检查代码的线索来协助测试——可以看到盒子里面。测试员根据代码检查结果判断或多或少可能出错的数目，并据此定制测试。

##### 2.静态测试和动态测试
**静态测试:**
		测试不运行的部分——只是检查和审核
**动态测试:**
		指通常意义上的测试——使用和运行软件。

****************************************************

##### 3.静态黑盒测试：测试产品说明书

测试产品说明书（利用书面文档进行静态黑盒测试，认真查找其中的缺陷）

目的：为了找出根本性的问题、疏忽或者遗漏之处，更好地了解软件该做什么。

##### 4.动态黑盒测试：输入数据、接受输出、检验结果

> 1. 通过性测试:确认软件至少能做什么，而不考验其能力，仅仅运用最简单、最直观的测试用例。
> 2. 失效性测试:纯粹为了破坏软件而设计和执行的测试用例。

选择测试用例方法等价类划分:分步骤地将海量（无限）的测试用例集缩减得很小，但过程同样有效。一个等价类或者等价类划分是指测试目标相同或者暴露相同软件缺陷的一组测试

**数据测试：**
1）测试边界条件：软件运行在计划操作界限的边界的情况。
		建立两个等价类：正确的数据-在边界内部的最后一两个合法的数据点，边界之外，一到两个非法的数据点 ,提出边界条件时，一定要测试临近边界的有效数据，同时测试超过边界的无效数据。

2）测试次边界条件：有些边界条件在软件内部，最终用户几乎看不到
		一定要考虑建立默认值、空白、空值、零值或者无输入等条件的等价类，这些数据自成一个等价类
3）测试非法、错误、不正确和垃圾数据

**状态测试：软件测试员必须测试程序的状态及转换**
1）建立状态转换图：
	软件可能进入的每一种独立状态；

​	从一种状态转变到另一种状态所需要的输入和条件；

​	进入或者退出某种状态时的设置条件及输出结果

2）等价划分：将大量的可能性减少到可以操作的测试用例集合。

3）失败状态测试：竞争、重复、压迫（使软件在不够理想的条件下运行）和重负（处理尽可能大的数据文件）

 ##### 5.静态白盒测试：检查设计/代码
​	**目的：**1.尽早发现软件缺陷，以找出动态黑盒测试难以发现或隔离的软件缺陷。2.为黑盒测试员在接手软件进行测试时设计和应用测试用例提供思路

​	**正式审查（formal review）：**进行静态白盒测试的过程（确定问题、遵守规则、准备、编写报告）
​	正式审查方式：
​		同事审查
​		走查：编写代码的程序员其他程序员和测试员组成的小组作正式陈述	
​		检验：具有高度组织化，要求每一个参与者都接受训练，表述代码的人不是原来的程序员

​	**检查编码标准和规范： **

标准：必须遵守的规则                                                                                                                                                        规范：建议的最佳做法                                                                                                                                                       目的：可靠性、可读性/维护性、移植性

##### 6.动态白盒测试（结构化测试）

利用查看运行代码功能开展测试

动态白盒测试的目标是寻找软件缺陷，调试的目标是修复缺陷。

**基本思想：分段测试**                                                                                                                                                           1.单元测试。2.集成测试。

**测试方法：数据覆盖**                                                                                                                                                           1.数据流覆盖：完全跟踪一批数据，使用调试观察变量在运行时的数据                                                                                                                               2.边界覆盖：测试边界数据                                                                                                                                                                    3.错误强制：强制出现错误情况，返回对应的错误处理方式                                                                                                                   4.代码覆盖：测试每一条逻辑与决策分支，语句覆盖与代码行覆盖确保每一条语句至少被执行一次，分支覆盖（路径覆盖）确保每一条条件分支至少被执行一次，条件覆盖确保每一个条件至少被执行一次

##### 7.常见错误

  数据引用错误、数据声明错误、计算错误、比较错误、控制流程错误、子程序参数错误、输入输出错误、其它错误

#### 动态黑盒测试技术

##### 等价类划分法

等价类指某个输入域的子集和，等价类分有效等价类与无效等价类

根据输入数据的范围与格式确定有效等价类与无效等价类并使用表格形式展示

设计测试用例时:

1. 覆盖所有有效等价类，每条路径是一个测试用例

2. 无效等价类的每一个都需要一个测试用例

##### 边界值分析法

1. 分析各个变量的取值并取边界
2. 根据边界取值确定测试用例个数

设计测试用例时:

1. 每个变量的每个边界取值设计一个测试用例，其余变量尽量取正常值

2. 最后所有变量的正常取值设计一个测试用例

##### 示例

**保险公司计算保费费率的程序**

某保险公司的人寿保险的保费计算方式为：保费=投保额×保险费率

其中，保险费率依点数不同而有别，10点及10点以上保险费率为0.6%，10点以下保险费率为0.1%；而点数又是由投保人的年龄、性别、婚姻状况和抚养人数来决定，具体规则如下：

| **年龄**    | **性别**    | **婚姻**    | **抚养人数** |             |             |             |                                     |
| ----------- | ----------- | ----------- | ------------ | ----------- | ----------- | ----------- | ----------------------------------- |
| **20~39**   | **40~59**   | **其它**    | **M**        | **F**       | **已婚**    | **未婚**    | 1人扣0.5点最多扣3点（四舍五入取整） |
| **6****点** | **4****点** | **2****点** | **5****点**  | **3****点** | **3****点** | **5****点** |                                     |

请利用边界值分析法等方法做等价类划分为上述程序设计出相应的测试用例。

输入数据的要求：

1）年龄：一位或两位非零整数，取值的有效范围为1～99 

2）性别：一位英文字符，只能取M或F值 

3）婚姻：字符，只能取‘已婚’或‘未婚’ 

4）抚养人数：空白或字符‘无’1～9之间的一位非零整数 

**1.** **使用等价划分法划分等价类**

**步骤一：确定有效等价类与无效等价类**

| **输入等价类** | **有效等价类**                                          | **无效等价类**                                  |
| -------------- | ------------------------------------------------------- | ----------------------------------------------- |
| 年龄范围       | （1）数字1-19（2）数字20-39（3）数字40-59（4）数字60-99 | （5）数字 <1（6）数字 >99                       |
| 性别范围       | （7）字符M（8）字符F                                    | （9）除M与F外的任意字符                         |
| 婚姻范围       | （10）字符串”已婚”（11）字符串“未婚”                    | （12） 除”已婚”与“未婚”外的字符串               |
| 抚养人数范围   | （13）空白字符  （14）字符 ‘无’（15）字符 1-9           | （16）除空白字符与字符’无’及字符1-9外的其它字符 |

**步骤二：设计测试用例，覆盖所有有效等价类，每一个无效等价类设计一个测试用例**

覆盖所有有效等价类的测试案例的覆盖路径为：

（1）（7）（10）（13）

（2）（8）（11）（14）

（3）（7）（10）（15）

（4）（8）（11）（15）

测试案列见下表

**2.** **使用边界值分析法划分等价类**

**步骤一：分析各个变量的取值**

选取最小值，稍大于最小值，正常值，稍小于最大值，最大值，因此确定年龄的边界取值为：1,2，50,98，99

性别的边界取值为：字符F、M

婚姻的边界取值为：字符串“已婚”、“未婚”

抚养人数的边界取值为：’1’，‘9’，‘0’，‘8’，‘5’

**步骤二：确定测试用例数**

各个变量的取值范围和格式不尽相同，因此年龄边界值取4个，性别与婚姻边界值取0个，抚养人数边界值取4个，因此需测试用例4+0+0+4+1=9个

**步骤三：设计测试用例**

详见下表

 

**使用等价划分法设计的测试用例：**

| **测试用例ID** | **测试用例名称** | **输入数据（条件）**     | **操作过程** | **预期正确输出结果** | **实际输出结果** | **通过与否** |
| -------------- | ---------------- | ------------------------ | ------------ | -------------------- | ---------------- | ------------ |
| 1              |                  | （2,‘M’,”已婚”,‘ ’）     |              |                      |                  |              |
| 2              |                  | (22,‘F’,”未婚”,‘无’）    |              |                      |                  |              |
| 3              |                  | (40,’M’,”已婚”,’2’)      |              |                      |                  |              |
| 4              |                  | (69,‘F’,”未婚”,‘1’）     |              |                      |                  |              |
| 5              |                  | （100，’M’,”已婚”,‘1’）  |              |                      |                  |              |
| 6              |                  | （10，’MS’,”已婚”,‘1’）  |              |                      |                  |              |
| 7              |                  | （10，’M’,”已然婚”,‘1’） |              |                      |                  |              |
| 8              |                  | (69,‘F’,”未婚”,‘10’）    |              |                      |                  |              |

 

**使用边界值分析法设计的测试用例：**

| **测试用例ID** | **测试用例名称** | **输入数据（条件）**   | **操作过程** | **预期正确输出结果** | **实际输出结果** | **通过与否** |
| -------------- | ---------------- | ---------------------- | ------------ | -------------------- | ---------------- | ------------ |
| 9              |                  | （1,‘M’,”已婚”,‘ 5’）  |              |                      |                  |              |
| 10             |                  | （2,‘M’,”已婚”,‘ 5’）  |              |                      |                  |              |
| 11             |                  | （98,‘M’,”已婚”,‘ 5’） |              |                      |                  |              |
| 12             |                  | (99,‘F’,”未婚”,‘1’）   |              |                      |                  |              |
| 13             |                  | （50，’M’,”已婚”,‘0’） |              |                      |                  |              |
| 14             |                  | （50，’M’,”已婚”,‘1’） |              |                      |                  |              |
| 15             |                  | （50，’M’,”已婚”,‘8’） |              |                      |                  |              |
| 16             |                  | (50,‘F’,”未婚”,‘9’）   |              |                      |                  |              |
| 17             |                  | （50,‘M’,”已婚”,‘ 5’） |              |                      |                  |              |

#### 测试技术

##### 1.配置测试

即测试软件在相应配置（硬件）上的运行情况

要考虑配置与程序之间的密切关系，配置问题的原因多种多样，明确硬件标准

* 确定硬件厂商、型号与驱动程序，将硬件配置缩减为可控制的范围（可由市场占有率等信息决定）
* 在每种配置中执行测试
* 反复测试直到对结果满意

##### 2.兼容性测试

主要指软件之间的兼容性，即检查软件之间是否能够正确地交互和共享信息。如从Web页面复制文字，在文字处理程序打开的文档粘贴，使照片修饰软件在统一操作系统的不同版本下正常工作。

同时还要测试平台和应用程序版本

* 向后兼容：指可以使用软件的以前的版本，即该软件的文件在以前版本的软件上也可以打开使用
* 向前兼容：指可以使用软件的未来版本，即该软件的文件在未来版本的软件上也可以打开使用

还要测试多个版本的影响，如安装之后重新安装软件，软件更新前后状况

##### 3.外国语言测试

将软件推广到外国时进行的测试，考虑语言、方言、地区习俗和文化的过程叫做本地化（国际化）。

* 测试翻译与文本的显示
* 测试字符集的兼容性
* 测试热键和快捷键
* 测试字符计算（如字符排序，大小写转换等）